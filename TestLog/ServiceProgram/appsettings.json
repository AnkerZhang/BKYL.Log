{
  "action": "server,redis,pg,message",
  "nodel_name": "ZlServer",
  //消息队列 查询任务堆积数量指标
  "msg_config": {
    "host": "62.234.79.60",
    "port": 5422,
    "database": "masterdb",
    "user_id": "postgres",
    "pwd": "Z-fU5V*/jzb+",
    "table_name": "bas_wait_handle_desc"
  },
  //Redis数据库信息
  "redis_config": [
    {
      "node_name": "bkyl_redis",
      "url": "http://39.96.160.43:9122/metrics"
    }
  ],
  //Pg数据库信息
  "pg_config": [
    {
      "pg_name": "62.234.155.131从库1",
      //从库数据库名称
      "host": "62.234.155.131",
      "port": 5423,
      "database": "platform_slavedb004,platform_slavedb005", //库名可用英文逗号分隔
      "user_id": "postgres",
      "pwd": "-fEUjee6g:8a"
    }
  ],
  //预警规则
  "rule_config": {
    //是否打印控制台
    "is_console": true,
    //预警通知的邮箱
    "notice": "793087382@qq.com",
    "server_node": {
      //服务器cpu使用率大于数值预警或的关系
      "cpu_rate": 100.00,
      "mem_rate": 99.00,
      "driver_rate": 99.00,
      //大于指标值持续N秒预警
      "time_out": 60
    },
    "message_node": {
      //消息队列任务堆积数大于某值预警
      "task_count": 50,
      //大于指标值持续N秒预警
      "time_out": 60
    },
    "redis_node": {
      //已使用内存占比大于某值预警
      "mem_rate": 100,
      //大于指标值持续N秒预警
      "time_out": 60
    },
    "pg_node": {
      "total_size": "10" //一天 24小时单库增N MB大小进行预警   ---单位MB
    }

  }

  //nohup bin/logstash -f /bkhadoopdata/elk/logstash-6.5.1/etc/log.conf &

}